{"version":3,"sources":["utils.js","components/FoodList.js","components/LoginForm.js","components/MyCart.js","components/SignupForm.js","App.js","index.js"],"names":["login","credential","loginUrl","username","password","fetch","method","headers","credentials","then","response","status","console","log","Error","signup","data","body","JSON","stringify","Option","Select","AddToCartButton","itemId","useState","loading","setLoading","title","type","icon","PlusOutlined","onClick","addItemToCart","message","success","catch","err","error","finally","FoodList","foodData","setFoodData","curRest","setCurRest","restaurants","setRestaurants","loadingRest","setLoadingRest","useEffect","json","restId","value","onSelect","placeholder","style","width","onChange","map","item","id","name","marginTop","grid","gutter","xs","sm","md","lg","xl","xxl","dataSource","renderItem","Item","extra","src","imageUrl","alt","height","display","price","LoginForm","state","onFinish","setState","props","onSuccess","render","margin","rules","required","prefix","UserOutlined","Password","LockOutlined","htmlType","React","Component","Text","Typography","MyCart","cartVisible","setCartVisible","cartData","setCartData","checking","setChecking","onCloseDrawer","shape","onClose","visible","footer","justifyContent","strong","totalPrice","marginRight","disabled","orderItemList","length","itemLayout","Meta","menuItem","description","SignupForm","displayModal","handleCancel","signupOnClick","onCancel","destroyOnClose","initialValues","remember","preserve","Header","Layout","Content","Title","App","authed","setAuthed","className","level","color","lineHeight","marginBottom","padding","maxHeight","overflowY","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.45a8889e.chunk.js","sourcesContent":["export const login = (credential) => {\r\n\tconst loginUrl = `/login?username=${credential.username}&password=${credential.password}`;\r\n\r\n\treturn fetch(loginUrl, {\r\n\t\tmethod: \"POST\",\r\n\t\theaders: {\r\n\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t},\r\n\t\tcredentials: \"include\",\r\n\t}).then((response) => {\r\n\t\tif (response.status < 200 || response.status >= 300) {\r\n\t\t\tconsole.log(response.status)\r\n\t\t\tthrow Error(\"Fail to log in\");\r\n\t\t}\r\n\t});\r\n};\r\n\r\n\r\n\r\nexport const signup = (data) => {\r\n\tconst signupUrl = \"/signup\";\r\n\r\n\treturn fetch(signupUrl, {\r\n\t\tmethod: \"POST\",\r\n\t\theaders: {\r\n\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t},\r\n\t\tbody: JSON.stringify(data),\r\n\t}).then((response) => {\r\n\t\tif (response.status < 200 || response.status >= 300) {\r\n\t\t\tthrow Error(\"Fail to sign up\");\r\n\t\t}\r\n\t});\r\n};\r\n\r\n\r\n\r\nexport const getMenus = (restId) => {\r\n\treturn fetch(`/restaurant/${restId}/menu`).then((response) => {\r\n\t\tif (response.status < 200 || response.status >= 300) {\r\n\t\t\tthrow Error(\"Fail to get menus\");\r\n\t\t}\r\n\t\treturn response.json();\r\n\t});\r\n};\r\n\r\n\r\n\r\nexport const getRestaurants = () => {\r\n\treturn fetch(\"/restaurants\").then((response) => {\r\n\t\tif (response.status < 200 || response.status >= 300) {\r\n\t\t\tthrow Error(\"Fail to get restaurants\");\r\n\t\t}\r\n\r\n\t\treturn response.json();\r\n\t});\r\n};\r\n\r\n\r\n\r\nexport const getCart = () => {\r\n\treturn fetch(\"/cart\").then((response) => {\r\n\t\tif (response.status < 200 || response.status >= 300) {\r\n\t\t\tthrow Error(\"Fail to get shopping cart data\");\r\n\t\t}\r\n\r\n\t\treturn response.json();\r\n\t});\r\n};\r\n\r\n\r\n\r\nexport const checkout = () => {\r\n\treturn fetch(\"/checkout\").then((response) => {\r\n\t\tif (response.status < 200 || response.status >= 300) {\r\n\t\t\tthrow Error(\"Fail to checkout\");\r\n\t\t}\r\n\t});\r\n};\r\n\r\n\r\n\r\nexport const addItemToCart = (itemId) => {\r\n\treturn fetch(`/order/${itemId}`, {\r\n\t\tmethod: \"POST\",\r\n\t\theaders: {\r\n\t\t\t\"Content-Type\": \"application/json\",\r\n\t\t},\r\n\t\tcredentials: \"include\",\r\n\t}).then((response) => {\r\n\t\tif (response.status < 200 || response.status >= 300) {\r\n\t\t\tthrow Error(\"Fail to add menu item to shopping cart\");\r\n\t\t}\r\n\t});\r\n};\r\n\r\n\r\n\r\n","import { Button, Card, List, message, Select, Tooltip } from \"antd\"\r\nimport { useEffect, useState } from \"react\"\r\nimport { addItemToCart, getMenus, getRestaurants } from \"../utils\"\r\nimport { PlusOutlined } from \"@ant-design/icons\"\r\n\r\n\r\nconst { Option } = Select;\r\n\r\nconst AddToCartButton = ({ itemId }) => {\r\n\tconst [loading, setLoading] = useState(false);\r\n\r\n\tconst AddToCart = () => {\r\n\t\tsetLoading(true);\r\n\t\taddItemToCart(itemId)\r\n\t\t\t.then(() => message.success(`Successfully add item`))\r\n\t\t\t.catch((err) => message.error(err.message))\r\n\t\t\t.finally(() => {\r\n\t\t\t\tsetLoading(false)\r\n\t\t\t})\r\n\t}\r\n\r\n\treturn (\r\n\t\t<Tooltip title=\"Add to shopping cart\">\r\n\t\t\t<Button\r\n\t\t\t\tloading={loading}\r\n\t\t\t\ttype=\"primary\"\r\n\t\t\t\ticon={<PlusOutlined />}\r\n\t\t\t\tonClick={AddToCart}\r\n\t\t\t/>\r\n\t\t</Tooltip>\r\n\t)\r\n}\r\n\r\nconst FoodList = () => {\r\n\tconst [foodData, setFoodData] = useState([])\r\n\tconst [curRest, setCurRest] = useState()\r\n\tconst [restaurants, setRestaurants] = useState([])\r\n\tconst [loading, setLoading] = useState(false)\r\n\tconst [loadingRest, setLoadingRest] = useState(false)\r\n\r\n\tuseEffect(() => {\r\n\t\tsetLoadingRest(true);\r\n\t\tgetRestaurants()\r\n\t\t\t.then((data) => {\r\n\t\t\t\tsetRestaurants(data);\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tmessage.error(err.message);\r\n\t\t\t})\r\n\t\t\t.finally(() => {\r\n\t\t\t\tsetLoadingRest(false);\r\n\t\t\t})\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (curRest) {\r\n\t\t\tsetLoading(true)\r\n\t\t\tgetMenus(curRest)\r\n\t\t\t\t.then((data) => {\r\n\t\t\t\t\tsetFoodData(data)\r\n\t\t\t\t})\r\n\t\t\t\t.catch((err) => {\r\n\t\t\t\t\tmessage.error(err.message)\r\n\t\t\t\t})\r\n\t\t\t\t.finally(() => {\r\n\t\t\t\t\tsetLoading(false)\r\n\t\t\t\t})\r\n\t\t}\r\n\t}, [curRest])\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Select\r\n\t\t\t\tvalue={curRest}\r\n\t\t\t\tonSelect={(value) => setCurRest(value)}\r\n\t\t\t\tplaceholder=\"Select a restaurant\"\r\n\t\t\t\tloading={loadingRest}\r\n\t\t\t\tstyle={{ width: 300 }}\r\n\t\t\t\tonChange={() => { }}\r\n\t\t\t>\r\n\t\t\t\t{restaurants.map((item) => {\r\n\t\t\t\t\treturn <Option value={item.id}>{item.name}</Option>\r\n\t\t\t\t})}\r\n\t\t\t</Select>\r\n\t\t\t{curRest && (\r\n\t\t\t\t<List\r\n\t\t\t\t\tstyle={{ marginTop: 20 }}\r\n\t\t\t\t\tloading={loading}\r\n\t\t\t\t\tgrid={{\r\n\t\t\t\t\t\tgutter: 16,\r\n\t\t\t\t\t\txs: 1,\r\n\t\t\t\t\t\tsm: 2,\r\n\t\t\t\t\t\tmd: 4,\r\n\t\t\t\t\t\tlg: 4,\r\n\t\t\t\t\t\txl: 3,\r\n\t\t\t\t\t\txxl: 3,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tdataSource={foodData}\r\n\t\t\t\t\trenderItem={(item) => (\r\n\t\t\t\t\t\t<List.Item>\r\n\t\t\t\t\t\t\t<Card\r\n\t\t\t\t\t\t\t\ttitle={item.name}\r\n\t\t\t\t\t\t\t\textra={<AddToCartButton itemId={item.id} />}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tsrc={item.imageUrl}\r\n\t\t\t\t\t\t\t\t\talt={item.name}\r\n\t\t\t\t\t\t\t\t\tstyle={{ height: 340, width: \"100%\", display: \"block\" }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{`Price: ${item.price}`}\r\n\t\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t</List.Item>\r\n\t\t\t\t\t)}\r\n\t\t\t\t/>\r\n\t\t\t)}\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default FoodList\r\n\r\n","import { Button, Form, Input, message } from \"antd\"\r\nimport React from \"react\"\r\nimport { LockOutlined, UserOutlined } from \"@ant-design/icons\"\r\nimport { login } from \"../utils\"\r\n\r\n\r\nclass LoginForm extends React.Component {\r\n\tstate = {\r\n\t\tloading: false,\r\n\t}\r\n\r\n\tonFinish = (data) => {\r\n\t\tthis.setState({\r\n\t\t\tloading: true,\r\n\t\t})\r\n\t\tlogin(data).then(() => {\r\n\t\t\tmessage.success('Login Successful')\r\n\t\t\tthis.props.onSuccess()\r\n\t\t}).catch((err) => {\r\n\t\t\tmessage.error(err.message)\r\n\t\t}).finally(() => {\r\n\t\t\tthis.setState({\r\n\t\t\t\tloading: false\r\n\t\t\t})\r\n\t\t})\r\n\t}\r\n\r\n\r\n\trender = () => {\r\n\t\treturn (\r\n\t\t\t<Form\r\n\t\t\t\tname=\"normal_login\"\r\n\t\t\t\tonFinish={this.onFinish}\r\n\t\t\t\tstyle={{\r\n\t\t\t\t\twidth: 300,\r\n\t\t\t\t\tmargin: \"auto\",\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\trules={[{ required: true, message: \"Please input your Username!\" }]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input prefix={<UserOutlined />} placeholder=\"Username\" />\r\n\t\t\t\t</Form.Item>\r\n\t\t\t\t<Form.Item\r\n\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\trules={[{ required: true, message: \"Please input your Password!\" }]}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Input.Password prefix={<LockOutlined />} placeholder=\"Password\" />\r\n\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t<Form.Item>\r\n\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\" loading={this.state.loading}>\r\n\t\t\t\t\t\tLogin\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t</Form.Item>\r\n\t\t\t</Form>\r\n\t\t)\r\n\t}\r\n}\r\n\r\n\r\nexport default LoginForm;\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import { Button, Drawer, List, message, Typography } from \"antd\"\r\nimport { useEffect, useState } from \"react\"\r\nimport { checkout, getCart } from \"../utils\"\r\n\r\nconst { Text } = Typography\r\n\r\nconst MyCart = () => {\r\n\tconst [cartVisible, setCartVisible] = useState(false)\r\n\tconst [cartData, setCartData] = useState()\r\n\tconst [loading, setLoading] = useState(false)\r\n\tconst [checking, setChecking] = useState(false)\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!cartVisible) {\r\n\t\t\treturn\r\n\t\t}\r\n\r\n\t\tsetLoading(true);\r\n\t\tgetCart()\r\n\t\t\t.then((data) => {\r\n\t\t\t\tsetCartData(data)\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tmessage.error(err.message)\r\n\t\t\t})\r\n\t\t\t.finally(() => {\r\n\t\t\t\tsetLoading(false)\r\n\t\t\t})\r\n\t}, [cartVisible])\r\n\r\n\tconst onCheckOut = () => {\r\n\t\tsetChecking(true)\r\n\t\tcheckout()\r\n\t\t\t.then(() => {\r\n\t\t\t\tmessage.success(\"Successfully checkout\");\r\n\t\t\t\tsetCartVisible(false)\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tmessage.error(err.message)\r\n\t\t\t})\r\n\t\t\t.finally(() => {\r\n\t\t\t\tsetChecking(false)\r\n\t\t\t})\r\n\t}\r\n\r\n\tconst onCloseDrawer = () => {\r\n\t\tsetCartVisible(false)\r\n\t}\r\n\r\n\tconst onOpenDrawer = () => {\r\n\t\tsetCartVisible(true)\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Button type=\"primary\" shape=\"round\" onClick={onOpenDrawer}>\r\n\t\t\t\tCart\r\n\t\t\t</Button>\r\n\t\t\t<Drawer\r\n\t\t\t\ttitle=\"My Shopping Cart\"\r\n\t\t\t\tonClose={onCloseDrawer}\r\n\t\t\t\tvisible={cartVisible}\r\n\t\t\t\twidth={520}\r\n\t\t\t\tfooter={\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tdisplay: \"flex\",\r\n\t\t\t\t\t\t\tjustifyContent: \"space-between\",\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Text strong={true}>{`Total price: $${cartData?.totalPrice}`}</Text>\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<Button onClick={onCloseDrawer} style={{ marginRight: 8 }}>\r\n\t\t\t\t\t\t\t\tCancel\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tonClick={onCheckOut}\r\n\t\t\t\t\t\t\t\ttype=\"primary\"\r\n\t\t\t\t\t\t\t\tloading={checking}\r\n\t\t\t\t\t\t\t\tdisabled={loading || cartData?.orderItemList.length === 0}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\tCheckout\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t}\r\n\t\t\t>\r\n\t\t\t\t<List\r\n\t\t\t\t\tloading={loading}\r\n\t\t\t\t\titemLayout=\"horizontal\"\r\n\t\t\t\t\tdataSource={cartData?.orderItemList}\r\n\t\t\t\t\trenderItem={(item) => (\r\n\t\t\t\t\t\t<List.Item>\r\n\t\t\t\t\t\t\t<List.Item.Meta\r\n\t\t\t\t\t\t\t\ttitle={item.menuItem.name}\r\n\t\t\t\t\t\t\t\tdescription={`$${item.price}`}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</List.Item>\r\n\t\t\t\t\t)}\r\n\t\t\t\t/>\r\n\t\t\t</Drawer>\r\n\t\t</>\r\n\t)\r\n}\r\n\r\nexport default MyCart\r\n\r\n","import { Button, Form, Input, message, Modal } from \"antd\";\r\nimport React from \"react\";\r\nimport { LockOutlined, UserOutlined } from \"@ant-design/icons\";\r\nimport { signup } from \"../utils\";\r\n\r\nclass SignupForm extends React.Component {\r\n\tstate = {\r\n\t\tdisplayModal: false,\r\n\t}\r\n\r\n\thandleCancel = () => {\r\n\t\tthis.setState({\r\n\t\t\tdisplayModal: false,\r\n\t\t})\r\n\t}\r\n\r\n\tsignupOnClick = () => {\r\n\t\tthis.setState({\r\n\t\t\tdisplayModal: true,\r\n\t\t})\r\n\t}\r\n\r\n\tonFinish = (data) => {\r\n\t\tsignup(data)\r\n\t\t\t.then(() => {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tdisplayModal: false,\r\n\t\t\t\t});\r\n\t\t\t\tmessage.success(`Successfully signed up`)\r\n\t\t\t})\r\n\t\t\t.catch((err) => {\r\n\t\t\t\tmessage.error(err.message);\r\n\t\t\t})\r\n\t}\r\n\r\n\trender = () => {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t<Button shape=\"round\" type=\"primary\" onClick={this.signupOnClick}>\r\n\t\t\t\t\tRegister\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Modal\r\n\t\t\t\t\ttitle=\"Register\"\r\n\t\t\t\t\tvisible={this.state.displayModal}\r\n\t\t\t\t\tonCancel={this.handleCancel}\r\n\t\t\t\t\tfooter={null}\r\n\t\t\t\t\tdestroyOnClose={true}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form\r\n\t\t\t\t\t\tname=\"normal_register\"\r\n\t\t\t\t\t\tinitialValues={{ remember: true }}\r\n\t\t\t\t\t\tonFinish={this.onFinish}\r\n\t\t\t\t\t\tpreserve={false}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\trules={[{ required: true, message: \"Please input your email!\" }]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input prefix={<UserOutlined />} placeholder=\"Email\" />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t\t{ required: true, message: \"Please input your password!\" },\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input prefix={<LockOutlined />} placeholder=\"Password\" />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tname=\"firstName\"\r\n\t\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t\t{ required: true, message: \"Please input your first name!\" },\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input placeholder=\"firstname\" />\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\t\tname=\"lastName\"\r\n\t\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t\t{ required: true, message: \"Please input your last name!\" },\r\n\t\t\t\t\t\t\t]}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<Input placeholder=\"lastname\" />\r\n\t\t\t\t\t\t</Form.Item>\r\n\r\n\t\t\t\t\t\t<Form.Item>\r\n\t\t\t\t\t\t\t<Button type=\"primary\" htmlType=\"submit\">\r\n\t\t\t\t\t\t\t\tRegister\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Form>\r\n\t\t\t\t</Modal>\r\n\t\t\t</>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default SignupForm;\r\n","import { Layout, Typography } from \"antd\"\nimport { useState } from \"react\"\nimport \"./App.css\";\nimport FoodList from \"./components/FoodList\"\nimport LoginForm from \"./components/LoginForm\"\nimport MyCart from \"./components/MyCart\"\nimport SignupForm from \"./components/SignupForm\"\n\nconst { Header, Content } = Layout\nconst { Title } = Typography\n\nfunction App() {\n\tconst [authed, setAuthed] = useState(false);\n\n\treturn (\n\t\t<Layout style={{ height: \"100vh\" }}>\n\t\t\t<Header>\n\t\t\t\t<div className=\"header\">\n\t\t\t\t\t<Title\n\t\t\t\t\t\tlevel={2}\n\t\t\t\t\t\tstyle={{ color: \"white\", lineHeight: \"inherit\", marginBottom: 0 }}\n\t\t\t\t\t>\n\t\t\t\t\t\tOnline-Order :)\n\t\t\t\t\t</Title>\n\t\t\t\t\t<div>{authed ? <MyCart /> : <SignupForm />}</div>\n\t\t\t\t</div>\n\t\t\t</Header>\n\t\t\t<Content\n\t\t\t\tstyle={{\n\t\t\t\t\tpadding: \"50px\",\n\t\t\t\t\tmaxHeight: \"calc(100% - 64px)\",\n\t\t\t\t\toverflowY: \"auto\",\n\t\t\t\t}}\n\t\t\t>\n\t\t\t\t{authed ? (\n\t\t\t\t\t<FoodList />\n\t\t\t\t) : (\n\t\t\t\t\t<LoginForm onSuccess={() => setAuthed(true)} />\n\t\t\t\t)}\n\t\t\t</Content>\n\t\t</Layout>\n\t)\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}